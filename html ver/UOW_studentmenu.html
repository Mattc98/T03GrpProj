<html>
    <head>
        <title>Student Menu</title>
        <style>
            table, th, td {
                border:1px solid black;
                text-align : center;
            }
            th, td{
                height: 50px;
                width: 9%;
            }
            thead{
                background-color: lightgrey;
            }
        </style>
    </head>
    <body onload="getValue()">
        <img src = "simuow.jpg"  alt = "Image of simuow logo"/>
        <h2>Student menu</h2>
        
        <h3>Select a room for booking</h3>
        <table style="width:100%" id = "roomTable">
            <thead>
                <tr style = "height:50px">
                    <th style = "width:9%">Room no.</th>
                    <th style = "width:9%">Date</th>
                    <th style = "width:9%">Price per hr</th>
                    <th style = "width:9%">Size</th>
                    <th style = "width:9%">PROMOCODE</th>
                    <th style = "width:9%">Availbility</th>
                    <th style = "width:9%">Time Slot</th>
                    <th style = "width:9%">Edit</th>
                    <th style = "width:9%">REMOVE</th>
                    <th style = "width:9%">STATUS</th>
                </tr>
            </thead>
            <tbody>
                
            </tbody>
        </table>
        
            
        <script>
            let available;
            let roomNumber;
            let date;
            let price;
            let roomSize;
            let code;
            let timeslotvalue1;

            function getValue(){
                available = localStorage.getItem("ava");
                roomNumber = localStorage.getItem("roomNo");
                date = localStorage.getItem("ddmmyyyy");
                price = localStorage.getItem("price");
                roomSize = localStorage.getItem("size");
                code = localStorage.getItem("promoCode");

                var tr = document.createElement("tr");

                var td1 = tr.appendChild(document.createElement("td"));
                var td2 = tr.appendChild(document.createElement("td"));
                var td3 = tr.appendChild(document.createElement("td"));
                var td4 = tr.appendChild(document.createElement("td"));
                var td5 = tr.appendChild(document.createElement("td"));
                var td6 = tr.appendChild(document.createElement("td"));
                let td7 = tr.appendChild(document.createElement("td"));
                var td8 = tr.appendChild(document.createElement("td"));
                var td9 = tr.appendChild(document.createElement("td"));
                var td10 = tr.appendChild(document.createElement("td"));

                td1.innerHTML = roomNumber;
                td2.innerHTML = date;
                td3.innerHTML = '$' + price + '/hr';
                td4.innerHTML = roomSize;
                td5.innerHTML = code;
                td6.innerHTML = available;
                td7.innerHTML = '<span style = "font-weight: normal;"><select id="timeslotvalue"><option value="" disabled selected>Select your timeslot</option><option value="08:00AM - 10:00AM">08:00AM - 10:00AM</option><option value="10:00AM - 12:00PM">10:00AM - 12:00PM</option><option value="02:00PM - 04:00PM">02:00PM - 04:00PM</option><option value="04:00PM - 06:00PM">04:00PM - 06:00PM</option></select></span>';
                td8.innerHTML = '<button type = "button" onClick = "editTime(this);">BOOK</button>';
                td9.innerHTML = '<button type = "button">REMOVE</BUTTON>';
                td10.innerHTML = 'VACANT';

                document.getElementById("roomTable").appendChild(tr);
            }

            function editTime(timeslot1){                
                timeslotvalue1 = document.getElementById("timeslotvalue").value;

                var s = timeslot1.parentNode.parentNode;
                var tr = document.createElement("tr");

                var td1 = tr.appendChild(document.createElement("td"));
                var td2 = tr.appendChild(document.createElement("td"));
                var td3 = tr.appendChild(document.createElement("td"));
                var td4 = tr.appendChild(document.createElement("td"));
                var td5 = tr.appendChild(document.createElement("td"));
                var td6 = tr.appendChild(document.createElement("td"));
                let td7 = tr.appendChild(document.createElement("td"));
                var td8 = tr.appendChild(document.createElement("td"));
                var td9 = tr.appendChild(document.createElement("td"));
                var td10 = tr.appendChild(document.createElement("td"));

                td1.innerHTML = roomNumber;
                td2.innerHTML = date;
                td3.innerHTML = '$' + price + '/hr';
                td4.innerHTML = roomSize;
                td5.innerHTML = code;
                td6.innerHTML = available;
                td7.innerHTML = '<span style = "font-weight: normal;">' + timeslotvalue1 + '</span>';
                td8.innerHTML = '<button type = "button" onClick = "updateTime(this);">EDIT</button>';
                td9.innerHTML = '<button type = "button" onClick = "removeRoom(this);">REMOVE</BUTTON>';
                td10.innerHTML = 'BOOKED';

                document.getElementById("roomTable").replaceChild(tr, s);
            }

            function updateTime(timeslot){

                var s = timeslot.parentNode.parentNode;
                var tr = document.createElement("tr");

                var td1 = tr.appendChild(document.createElement("td"));
                var td2 = tr.appendChild(document.createElement("td"));
                var td3 = tr.appendChild(document.createElement("td"));
                var td4 = tr.appendChild(document.createElement("td"));
                var td5 = tr.appendChild(document.createElement("td"));
                var td6 = tr.appendChild(document.createElement("td"));
                let td7 = tr.appendChild(document.createElement("td"));
                var td8 = tr.appendChild(document.createElement("td"));
                var td9 = tr.appendChild(document.createElement("td"));
                var td10 = tr.appendChild(document.createElement("td"));

                td1.innerHTML = roomNumber;
                td2.innerHTML = date;
                td3.innerHTML = '$' + price + '/hr';
                td4.innerHTML = roomSize;
                td5.innerHTML = code;
                td6.innerHTML = available;
                td7.innerHTML = '<span style = "font-weight: normal;"><select id="timeslotvalue"><option value="" disabled selected>Select your timeslot</option><option value="08:00AM - 10:00AM">08:00AM - 10:00AM</option><option value="10:00AM - 12:00PM">10:00AM - 12:00PM</option><option value="02:00PM - 04:00PM">02:00PM - 04:00PM</option><option value="04:00PM - 06:00PM">04:00PM - 06:00PM</option></select></span>';
                td8.innerHTML = '<button type = "button" onClick = "editTime(this);">BOOK</button>';
                td9.innerHTML = '<button type = "button" onClick = "removeRoom(this);">REMOVE</BUTTON>';
                td10.innerHTML = 'BOOKED';

                document.getElementById("roomTable").replaceChild(tr, s);
            }

            function removeRoom(room){
                
                var s = room.parentNode.parentNode;
                var tr = document.createElement("tr");

                var td1 = tr.appendChild(document.createElement("td"));
                var td2 = tr.appendChild(document.createElement("td"));
                var td3 = tr.appendChild(document.createElement("td"));
                var td4 = tr.appendChild(document.createElement("td"));
                var td5 = tr.appendChild(document.createElement("td"));
                var td6 = tr.appendChild(document.createElement("td"));
                let td7 = tr.appendChild(document.createElement("td"));
                var td8 = tr.appendChild(document.createElement("td"));
                var td9 = tr.appendChild(document.createElement("td"));
                var td10 = tr.appendChild(document.createElement("td"));

                td1.innerHTML = roomNumber;
                td2.innerHTML = date;
                td3.innerHTML = '$' + price + '/hr';
                td4.innerHTML = roomSize;
                td5.innerHTML = code;
                td6.innerHTML = available;
                td7.innerHTML = '<span style = "font-weight: normal;"><select id="timeslotvalue"><option value="" disabled selected>Select your timeslot</option><option value="08:00AM - 10:00AM">08:00AM - 10:00AM</option><option value="10:00AM - 12:00PM">10:00AM - 12:00PM</option><option value="02:00PM - 04:00PM">02:00PM - 04:00PM</option><option value="04:00PM - 06:00PM">04:00PM - 06:00PM</option></select></span>';
                td8.innerHTML = '<button type = "button" onClick = "editTime(this);">BOOK</button>';
                td9.innerHTML = '<button type = "button" onClick = "updateTime(this);">REMOVE</BUTTON>';
                td10.innerHTML = 'VACANT';

                document.getElementById("roomTable").replaceChild(tr, s);
            }
        </script>

        <br/>
        <a href="UOW_RoomBookingSystem.html"><button>LOGOUT</button></a>
    </body>
</html>