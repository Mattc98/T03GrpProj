<html>
    <head>
        <title>Staff Menu</title>
        <style>
            table, th, td {
                border:1px solid black;
                text-align : center;
            }
            th, td{
                height: 50px;
                width: 9%;
            }
            thead{
                background-color: lightgrey;
            }
        </style>
    </head>
    <body>
        <img src = "simuow.jpg"  alt = "Image of simuow logo"/>
        <h2>Staff menu</h2>
        <h3>Create a booking</h3>
        <form>
            - Select Availbility
                <select id="Availbility">
                    <option value ="Unavailable">Unavailable</option>
                    <option value ="Available">Available</option>
                </select><br/>
            - Select room
            <select id = "room">
                <option value ="Room 1">Room 1</option>
                <option value ="Room 2">Room 2</option>
                <option value ="Room 3">Room 3</option>
                <option value ="Room 4">Room 4</option>
                <option value ="Room 5">Room 5</option>
            </select>
            <br/>

            - Select room size
            <select id="size">
                <option value="Small(1-4 pax)">Small(1-4 pax)</option>
                <option value="Medium(5-8 pax)">Medium(5-8 pax)</option>
                <option value="Big(10+ pax)">Big(10+ pax)</option>
            </select>
            <br/>

            - Select date of booking
            <input type="date" id="date">
            
            <br/>

            - Set the price of the room(/hr)
            <input id="roomPrice" type="text">
            <br/> 
            
            - Set promocode for room
            <input id="roomCode" type="text">
            <br/><br/>
            <button type = "button" onClick = "createRoom()">Create Room</button>
            <br/><br/>
            <table style="width:100%" id = "roomTable">
                <thead>
                    <tr style = "height:50px">
                        <th style = "width:9%">Room no.</th>
                        <th style = "width:9%">Date</th>
                        <th style = "width:9%">Price per hr</th>
                        <th style = "width:9%">Size</th>
                        <th style = "width:9%">PROMOCODE</th>
                        <th style = "width:9%">Availbility</th>
                        <th style = "width:9%">Remove</th>
                        <th style = "width:9%">Edit</th>
                      </tr>
                </thead>
                <tbody>
                    
                </tbody>
              </table>
        </form>

        <!--Javascript-->
        <script>
            let available;
            let roomNumber;
            let date;
            let d;
            let price;
            let roomSize;
            let code;
            let time;

            function passValue(){
                localStorage.setItem("ava", available);
                localStorage.setItem("roomNo", roomNumber);
                localStorage.setItem("ddmmyyyy", time);
                localStorage.setItem("price", price);
                localStorage.setItem("size", roomSize);
                localStorage.setItem("promoCode", code);
                
                return false;
            }

            function createRoom() {
                available = document.getElementById("Availbility").value;
                roomNumber = document.getElementById("room").value;
                date = document.getElementById("date").value;
                d = new Date(date);
                price = document.getElementById("roomPrice").value;
                roomSize = document.getElementById("size").value;
                code = document.getElementById("roomCode").value;

                time = d.getDate() + '/' + (d.getMonth() + 1) + '/' + d.getFullYear();

                var tr = document.createElement("tr");

                var td1 = tr.appendChild(document.createElement("td"));
                var td2 = tr.appendChild(document.createElement("td"));
                var td3 = tr.appendChild(document.createElement("td"));
                var td4 = tr.appendChild(document.createElement("td"));
                var td5 = tr.appendChild(document.createElement("td"));
                var td6 = tr.appendChild(document.createElement("td"));
                var td7 = tr.appendChild(document.createElement("td"));
                var td8 = tr.appendChild(document.createElement("td"));

                td1.innerHTML = roomNumber;
                td2.innerHTML = time;
                td3.innerHTML = '$' + price + '/hr';
                td4.innerHTML = roomSize;
                td5.innerHTML = code;
                td6.innerHTML = available;
                td7.innerHTML = '<button type = "button" onClick = "deleteRoom(this);">REMOVE</button>'
                td8.innerHTML = '<button type = "button" onClick = "editRoom(this);">EDIT</button>'


                document.getElementById("roomTable").appendChild(tr);
            }

            function deleteRoom(Room) {
                var s = Room.parentNode.parentNode;
                s.parentNode.removeChild(s);
            }

            function editRoom(Room) {
                var s = Room.parentNode.parentNode;

                var tr = document.createElement("tr");

                var td1 = tr.appendChild(document.createElement("td"));
                var td2 = tr.appendChild(document.createElement("td"));
                var td3 = tr.appendChild(document.createElement("td"));
                var td4 = tr.appendChild(document.createElement("td"));
                var td5 = tr.appendChild(document.createElement("td"));
                var td6 = tr.appendChild(document.createElement("td"));
                var td7 = tr.appendChild(document.createElement("td"));
                var td8 = tr.appendChild(document.createElement("td"));


                td1.innerHTML = '<select id = "room1"><option value ="Room 1">Room 1</option><option value ="Room 2">Room 2</option><option value ="Room 3">Room 3</option><option value ="Room 4">Room 4</option><option value ="Room 5">Room 5</option></select>';
                td2.innerHTML = '<input type="date" id="date1">';
                td3.innerHTML = '<input id="roomPrice1" type="text">';
                td4.innerHTML = '<select id="size1"><option value="Small(1-4 pax)">Small(1-4 pax)</option><option value="Medium(5-8 pax)">Medium(5-8 pax)</option><option value="Big(10+ pax)">Big(10+ pax)</option></select>';
                td5.innerHTML = '<input id="roomCode1" type="text">';
                td6.innerHTML = '<select id="Availbility1"><option value ="Unavailable">Unavailable</option><option value ="Available">Available</option></select><br/>';
                td7.innerHTML = '<button type = "button" onClick = "deleteRoom(this);">REMOVE</button>'
                td8.innerHTML = '<button type = "button" onClick = "addeditRoom(this);">UPDATE</button>'

                document.getElementById("roomTable").replaceChild(tr, s);

            }

            function addeditRoom(Room) {
                available = document.getElementById("Availbility1").value;
                roomNumber = document.getElementById("room1").value;
                date = document.getElementById("date1").value;
                d = new Date(date);
                price = document.getElementById("roomPrice1").value;
                roomSize = document.getElementById("size1").value;
                code = document.getElementById("roomCode1").value;

                time = d.getDate() + '/' + (d.getMonth() + 1) + '/' + d.getFullYear();

                var s = Room.parentNode.parentNode;
                var tr = document.createElement("tr");

                var td1 = tr.appendChild(document.createElement("td"));
                var td2 = tr.appendChild(document.createElement("td"));
                var td3 = tr.appendChild(document.createElement("td"));
                var td4 = tr.appendChild(document.createElement("td"));
                var td5 = tr.appendChild(document.createElement("td"));
                var td6 = tr.appendChild(document.createElement("td"));
                var td7 = tr.appendChild(document.createElement("td"));
                var td8 = tr.appendChild(document.createElement("td"));

                td1.innerHTML = roomNumber;
                td2.innerHTML = time;
                td3.innerHTML = '$' + price + '/hr';
                td4.innerHTML = roomSize;
                td5.innerHTML = code;
                td6.innerHTML = available;
                td7.innerHTML = '<button type = "button" onClick = "deleteRoom(this);">REMOVE</button>'
                td8.innerHTML = '<button type = "button" onClick = "editRoom(this);">UPDATE</button>'
            

                document.getElementById("roomTable").replaceChild(tr, s);
                
                return false;
            }

        </script>

        <a href="UOW_RoomBookingSystem.html"><button onclick="passValue()">LOGOUT</button></a>
       
    </body>
</html>